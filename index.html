<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IHA Code Generator</title>
    <style>
        /* Add your CSS styles here */
        .subb,
        .subb2,
        .subb3,
        .subb4,
        .subb5,
        .subb6,
        .subb7,
        .subb8 {
            margin-left: 1em; /* Adjust the value as needed */
            display: none; /* Hide the divs by default */
        }

        header h1 {
            margin-left: 2em; /* Adjust the value as needed */
            color: blue; /* Set the color to blue */
        }

        #downloadButton {
            margin-left: 2em; /* Adjust the value as needed */
            background-color: green; /* Set the background color to green */
            color: white; /* Set the text color to white */
            border: none; /* Remove border for a cleaner look */
            padding: 10px 20px; /* Add padding for better appearance */
            cursor: pointer; /* Add cursor pointer for user interaction */
        }
    </style>

</head>

<body>
    <header>
        <h1>IHA Rack System BUTTON</h1>
    </header>

    <main>
        <label for="dropdown1">Node Device 1 Address:</label>
        <select id="dropdown1">
            <option value="none">None</option>
            <option value="0x20">0x20</option>
            <option value="0x21">0x21</option>
            <option value="0x22">0x22</option>
            <option value="0x23">0x23</option>
            <option value="0x24">0x24</option>
            <option value="0x25">0x25</option>
            <option value="0x26">0x26</option>
            <option value="0x27">0x27</option>
            <!-- Add more options for Node Device 1 as needed -->
        </select>
    </main>
    <div class="subb">
        <label for="type1">Node Device 1 Type:</label>
        <select id="type1">
            <option value="none">none</option>
            <option value="16 GPIO Rack Card 1">16 GPIO Rack Card 1</option>
            <option value="16 GPIO Rack Card 2">16 GPIO Rack Card 2</option>
            <option value="16 GPIO Rack Card 3">16 GPIO Rack Card 3</option>
            <option value="16 GPIO Rack Card 4">16 GPIO Rack Card 4</option>
            <option value="Button Controller">Button Controller</option>
            <option value="8 Port Relay Board 1">8 Port Relay Board 1</option>
            <option value="8 Port Relay Board 2">8 Port Relay Board 2</option>
            <option value="8 Port Relay Board 3">8 Port Relay Board 3</option>
            <option value="8 Port Relay Board 4">8 Port Relay Board 4</option>
            <!-- Add more options for Node Device Type 1 as needed -->
        </select>
    </div>
    <main>
        <label for="dropdown2">Node Device 2 Address:</label>
        <select id="dropdown2">
            <option value="none">None</option>
            <option value="0x20">0x20</option>
            <option value="0x21">0x21</option>
            <option value="0x22">0x22</option>
            <option value="0x23">0x23</option>
            <option value="0x24">0x24</option>
            <option value="0x25">0x25</option>
            <option value="0x26">0x26</option>
            <option value="0x27">0x27</option>
            <!-- Add more options for Node Device 2 as needed -->
        </select>
    </main>
    <div class="subb2">
        <label for="type2">Node Device 2 Type:</label>
        <select id="type2">
            <option value="none">none</option>
            <option value="16 GPIO Rack Card 1">16 GPIO Rack Card 1</option>
            <option value="16 GPIO Rack Card 2">16 GPIO Rack Card 2</option>
            <option value="16 GPIO Rack Card 3">16 GPIO Rack Card 3</option>
            <option value="16 GPIO Rack Card 4">16 GPIO Rack Card 4</option>
            <option value="Button Controller">Button Controller</option>
            <option value="8 Port Relay Board 1">8 Port Relay Board 1</option>
            <option value="8 Port Relay Board 2">8 Port Relay Board 2</option>
            <option value="8 Port Relay Board 3">8 Port Relay Board 3</option>
            <option value="8 Port Relay Board 4">8 Port Relay Board 4</option>
            <!-- Add more options for Node Device Type 2 as needed -->
        </select>
    </div>
    <main>
      <label for="dropdown3">Node Device 3 Address:</label>
      <select id="dropdown3">
          <option value="none">None</option>
          <option value="0x20">0x20</option>
          <option value="0x21">0x21</option>
          <option value="0x22">0x22</option>
          <option value="0x23">0x23</option>
          <option value="0x24">0x24</option>
          <option value="0x25">0x25</option>
          <option value="0x26">0x26</option>
          <option value="0x27">0x27</option>
          <!-- Add more options for Node Device 2 as needed -->
      </select>
    </main>
    <div class="subb3">
      <label for="type3">Node Device 3 Type:</label>
      <select id="type3">
          <option value="none">none</option>
          <option value="16 GPIO Rack Card 1">16 GPIO Rack Card 1</option>
          <option value="16 GPIO Rack Card 2">16 GPIO Rack Card 2</option>
          <option value="16 GPIO Rack Card 3">16 GPIO Rack Card 3</option>
          <option value="16 GPIO Rack Card 4">16 GPIO Rack Card 4</option>
          <option value="Button Controller">Button Controller</option>
          <option value="8 Port Relay Board 1">8 Port Relay Board 1</option>
          <option value="8 Port Relay Board 2">8 Port Relay Board 2</option>
          <option value="8 Port Relay Board 3">8 Port Relay Board 3</option>
          <option value="8 Port Relay Board 4">8 Port Relay Board 4</option>
          <!-- Add more options for Node Device Type 2 as needed -->
      </select>
    </div>      
    <main>
        <label for="dropdown4">Node Device 4 Address:</label>
        <select id="dropdown4">
            <option value="none">None</option>
            <option value="0x20">0x20</option>
            <option value="0x21">0x21</option>
            <option value="0x22">0x22</option>
            <option value="0x23">0x23</option>
            <option value="0x24">0x24</option>
            <option value="0x25">0x25</option>
            <option value="0x26">0x26</option>
            <option value="0x27">0x27</option>
            <!-- Add more options for Node Device 2 as needed -->
        </select>
    </main>
    <div class="subb4">
        <label for="type4">Node Device 4 Type:</label>
        <select id="type4">
            <option value="none">none</option>
            <option value="16 GPIO Rack Card 1">16 GPIO Rack Card 1</option>
            <option value="16 GPIO Rack Card 2">16 GPIO Rack Card 2</option>
            <option value="16 GPIO Rack Card 3">16 GPIO Rack Card 3</option>
            <option value="16 GPIO Rack Card 4">16 GPIO Rack Card 4</option>
            <option value="Button Controller">Button Controller</option>
            <option value="8 Port Relay Board 1">8 Port Relay Board 1</option>
            <option value="8 Port Relay Board 2">8 Port Relay Board 2</option>
            <option value="8 Port Relay Board 3">8 Port Relay Board 3</option>
            <option value="8 Port Relay Board 4">8 Port Relay Board 4</option>
            <!-- Add more options for Node Device Type 2 as needed -->
        </select> 
    </div>        
    <main>
          <label for="dropdown5">Node Device 5 Address:</label>
          <select id="dropdown5">
              <option value="none">None</option>
              <option value="0x20">0x20</option>
              <option value="0x21">0x21</option>
              <option value="0x22">0x22</option>
              <option value="0x23">0x23</option>
              <option value="0x24">0x24</option>
              <option value="0x25">0x25</option>
              <option value="0x26">0x26</option>
              <option value="0x27">0x27</option>
              <!-- Add more options for Node Device 2 as needed -->
          </select>
    </main>
    <div class="subb5">
          <label for="type5">Node Device 5 Type:</label>
          <select id="type5">
              <option value="none">none</option>
              <option value="16 GPIO Rack Card 1">16 GPIO Rack Card 1</option>
              <option value="16 GPIO Rack Card 2">16 GPIO Rack Card 2</option>
              <option value="16 GPIO Rack Card 3">16 GPIO Rack Card 3</option>
              <option value="16 GPIO Rack Card 4">16 GPIO Rack Card 4</option>
              <option value="Button Controller">Button Controller</option>
              <option value="8 Port Relay Board 1">8 Port Relay Board 1</option>
              <option value="8 Port Relay Board 2">8 Port Relay Board 2</option>
              <option value="8 Port Relay Board 3">8 Port Relay Board 3</option>
              <option value="8 Port Relay Board 4">8 Port Relay Board 4</option>
              <!-- Add more options for Node Device Type 2 as needed -->
          </select>  
    </div>        
    <main>
            <label for="dropdown6">Node Device 6 Address:</label>
            <select id="dropdown6">
                <option value="none">None</option>
                <option value="0x20">0x20</option>
                <option value="0x21">0x21</option>
                <option value="0x22">0x22</option>
                <option value="0x23">0x23</option>
                <option value="0x24">0x24</option>
                <option value="0x25">0x25</option>
                <option value="0x26">0x26</option>
                <option value="0x27">0x27</option>
                <!-- Add more options for Node Device 2 as needed -->
            </select>
     </main>
     <div class="subb6">
            <label for="type6">Node Device 6 Type:</label>
            <select id="type6">
                <option value="none">none</option>
                <option value="16 GPIO Rack Card 1">16 GPIO Rack Card 1</option>
                <option value="16 GPIO Rack Card 2">16 GPIO Rack Card 2</option>
                <option value="16 GPIO Rack Card 3">16 GPIO Rack Card 3</option>
                <option value="16 GPIO Rack Card 4">16 GPIO Rack Card 4</option>
                <option value="Button Controller">Button Controller</option>
                <option value="8 Port Relay Board 1">8 Port Relay Board 1</option>
                <option value="8 Port Relay Board 2">8 Port Relay Board 2</option>
                <option value="8 Port Relay Board 3">8 Port Relay Board 3</option>
                <option value="8 Port Relay Board 4">8 Port Relay Board 4</option>
                <!-- Add more options for Node Device Type 2 as needed -->
            </select>   
     </div>           
     <main>
              <label for="dropdown7">Node Device 7 Address:</label>
              <select id="dropdown7">
                  <option value="none">None</option>
                  <option value="0x20">0x20</option>
                  <option value="0x21">0x21</option>
                  <option value="0x22">0x22</option>
                  <option value="0x23">0x23</option>
                  <option value="0x24">0x24</option>
                  <option value="0x25">0x25</option>
                  <option value="0x26">0x26</option>
                  <option value="0x27">0x27</option>
                  <!-- Add more options for Node Device 2 as needed -->
              </select>
    </main>
    <div class="subb7">
              <label for="type7">Node Device 7 Type:</label>
              <select id="type7">
                  <option value="none">none</option>
                  <option value="16 GPIO Rack Card 1">16 GPIO Rack Card 1</option>
                  <option value="16 GPIO Rack Card 2">16 GPIO Rack Card 2</option>
                  <option value="16 GPIO Rack Card 3">16 GPIO Rack Card 3</option>
                  <option value="16 GPIO Rack Card 4">16 GPIO Rack Card 4</option>
                  <option value="Button Controller">Button Controller</option>
                  <option value="8 Port Relay Board 1">8 Port Relay Board 1</option>
                  <option value="8 Port Relay Board 2">8 Port Relay Board 2</option>
                  <option value="8 Port Relay Board 3">8 Port Relay Board 3</option>
                  <option value="8 Port Relay Board 4">8 Port Relay Board 4</option>
                  <!-- Add more options for Node Device Type 2 as needed -->
              </select>    
    </div>              
    <main>
                <label for="dropdown8">Node Device 8 Address:</label>
                <select id="dropdown8">
                    <option value="none">None</option>
                    <option value="0x20">0x20</option>
                    <option value="0x21">0x21</option>
                    <option value="0x22">0x22</option>
                    <option value="0x23">0x23</option>
                    <option value="0x24">0x24</option>
                    <option value="0x25">0x25</option>
                    <option value="0x26">0x26</option>
                    <option value="0x27">0x27</option>
                    <!-- Add more options for Node Device 2 as needed -->
                </select>
    </main>
    <div class="subb8">
                <label for="type8">Node Device 8 Type:</label>
                <select id="type8">
                    <option value="none">none</option>
                    <option value="16 GPIO Rack Card 1">16 GPIO Rack Card 1</option>
                    <option value="16 GPIO Rack Card 2">16 GPIO Rack Card 2</option>
                    <option value="16 GPIO Rack Card 3">16 GPIO Rack Card 3</option>
                    <option value="16 GPIO Rack Card 4">16 GPIO Rack Card 4</option>
                    <option value="Button Controller">Button Controller</option>
                    <option value="8 Port Relay Board 1">8 Port Relay Board 1</option>
                    <option value="8 Port Relay Board 2">8 Port Relay Board 2</option>
                    <option value="8 Port Relay Board 3">8 Port Relay Board 3</option>
                    <option value="8 Port Relay Board 4">8 Port Relay Board 4</option>
                    <!-- Add more options for Node Device Type 2 as needed -->
                </select>                                  
    </div>    
    <pre></pre>
    <!-- Add 6 text entry boxes -->
    <div>
        <label for="textEntry1">ESPHome Name:</label>
        <input type="text" id="textEntry1">
    </div>
    <div>
        <label for="textEntry2">OTA Password:</label>
        <input type="text" id="textEntry2">
    </div>
    <div>
        <label for="textEntry3">Web Portal Username:</label>
        <input type="text" id="textEntry3">
    </div>
    <div>
        <label for="textEntry4">Web Portal Password:</label>
        <input type="text" id="textEntry4">
    </div>
    <div>
        <label for="textEntry5">Display Name:</label>
        <input type="text" id="textEntry5">
    </div>
    <div>
        <label for="textEntry6">API Key:</label>
        <input type="text" id="textEntry6">
    </div>
    <pre></pre>  
    <button id="downloadButton">Download YAML File</button>

    <!-- Add your JavaScript code here if needed -->
    <script>
        const dropdown1 = document.getElementById('dropdown1');
        const dropdown2 = document.getElementById('dropdown2');
        const dropdown3 = document.getElementById('dropdown3');
        const dropdown4 = document.getElementById('dropdown4');  
        const dropdown5 = document.getElementById('dropdown5');
        const dropdown6 = document.getElementById('dropdown6');
        const dropdown7 = document.getElementById('dropdown7');
        const dropdown8 = document.getElementById('dropdown8');                
        const typeDropdown1 = document.getElementById('type1');
        const typeDropdown2 = document.getElementById('type2');
        const typeDropdown3 = document.getElementById('type3');
        const typeDropdown4 = document.getElementById('type4'); 
        const typeDropdown5 = document.getElementById('type5');
        const typeDropdown6 = document.getElementById('type6');
        const typeDropdown7 = document.getElementById('type7');
        const typeDropdown8 = document.getElementById('type8');                
        const subbDiv1 = document.querySelector('.subb');
        const subbDiv2 = document.querySelector('.subb2');
        const subbDiv3 = document.querySelector('.subb3');
        const subbDiv4 = document.querySelector('.subb4'); 
        const subbDiv5 = document.querySelector('.subb5');
        const subbDiv6 = document.querySelector('.subb6');
        const subbDiv7 = document.querySelector('.subb7');
        const subbDiv8 = document.querySelector('.subb8');                
        const downloadButton = document.getElementById('downloadButton');  

        function updateSubbVisibility() {
            // Show/hide the subbDiv1 based on the selected value of dropdown1
            subbDiv1.style.display = dropdown1.value === 'none' ? 'none' : 'block';
            subbDiv2.style.display = dropdown2.value === 'none' ? 'none' : 'block';
            subbDiv3.style.display = dropdown3.value === 'none' ? 'none' : 'block';
            subbDiv4.style.display = dropdown4.value === 'none' ? 'none' : 'block';  
            subbDiv5.style.display = dropdown5.value === 'none' ? 'none' : 'block';
            subbDiv6.style.display = dropdown6.value === 'none' ? 'none' : 'block';
            subbDiv7.style.display = dropdown7.value === 'none' ? 'none' : 'block';
            subbDiv8.style.display = dropdown8.value === 'none' ? 'none' : 'block';                        

            // If dropdown1 is set to none and dropdown2 is not set to none, hide subbDiv1
           // if (dropdown1.value === 'none' && dropdown2.value !== 'none' && dropdown3.value !== 'none' && dropdown3.value !== 'none'&& dropdown4.value !== 'none' && dropdown5.value !== 'none'&& dropdown6.value !== 'none' && dropdown7.value !== 'none'&& dropdown8.value !== 'none') {
            //    subbDiv1.style.display = 'none';
            //}
        }

        dropdown1.addEventListener('change', updateSubbVisibility);
        dropdown2.addEventListener('change', updateSubbVisibility);
        dropdown3.addEventListener('change', updateSubbVisibility);
        dropdown4.addEventListener('change', updateSubbVisibility);    
        dropdown5.addEventListener('change', updateSubbVisibility);
        dropdown6.addEventListener('change', updateSubbVisibility);
        dropdown7.addEventListener('change', updateSubbVisibility);
        dropdown8.addEventListener('change', updateSubbVisibility);                

        downloadButton.addEventListener('click', function () {
            // Get the selected values
            const selectedOptionValue1 = dropdown1.value;
            const selectedOptionValue2 = dropdown2.value;
            const selectedOptionValue3 = dropdown3.value;
            const selectedOptionValue4 = dropdown4.value; 
            const selectedOptionValue5 = dropdown5.value;
            const selectedOptionValue6 = dropdown6.value;
            const selectedOptionValue7 = dropdown7.value;
            const selectedOptionValue8 = dropdown8.value;                        
            const selectedTypeValue1 = typeDropdown1.value;
            const selectedTypeValue2 = typeDropdown2.value;
            const selectedTypeValue3 = typeDropdown3.value;
            const selectedTypeValue4 = typeDropdown4.value; 
            const selectedTypeValue5 = typeDropdown5.value;
            const selectedTypeValue6 = typeDropdown6.value;
            const selectedTypeValue7 = typeDropdown7.value;
            const selectedTypeValue8 = typeDropdown8.value;                        

            // Get text entry values
            const textEntry1 = document.getElementById('textEntry1').value;
            const textEntry2 = document.getElementById('textEntry2').value;
            const textEntry3 = document.getElementById('textEntry3').value;
            const textEntry4 = document.getElementById('textEntry4').value;
            const textEntry5 = document.getElementById('textEntry5').value;
            const textEntry6 = document.getElementById('textEntry6').value;

            // Create the YAML configuration string based on the selected type
            let yamlConfig = '';
            let additionalConfig = 'substitutions:';
            if (selectedTypeValue1 === '16 GPIO Rack Card 1' || selectedTypeValue2 === '16 GPIO Rack Card 1' || selectedTypeValue3 === '16 GPIO Rack Card 1' || selectedTypeValue4 === '16 GPIO Rack Card 1' || selectedTypeValue5 === '16 GPIO Rack Card 1' || selectedTypeValue6 === '16 GPIO Rack Card 1' || selectedTypeValue7 === '16 GPIO Rack Card 1' || selectedTypeValue8 === '16 GPIO Rack Card 1') {
                additionalConfig += `
  gpio_rack_card_1_device_1: "GPIO 1"
  gpio_rack_card_1_device_2: "GPIO 2"
  gpio_rack_card_1_device_3: "GPIO 3"
  gpio_rack_card_1_device_4: "GPIO 4"
  gpio_rack_card_1_device_5: "GPIO 5"
  gpio_rack_card_1_device_6: "GPIO 6"
  gpio_rack_card_1_device_7: "GPIO 7"
  gpio_rack_card_1_device_8: "GPIO 8"
  gpio_rack_card_1_device_9: "GPIO 9"
  gpio_rack_card_1_device_10: "GPIO 10"
  gpio_rack_card_1_device_11: "GPIO 11"
  gpio_rack_card_1_device_12: "GPIO 12"
  gpio_rack_card_1_device_13: "GPIO 13"
  gpio_rack_card_1_device_14: "GPIO 14"
  gpio_rack_card_1_device_15: "GPIO 15"
  gpio_rack_card_1_device_16: "GPIO 16"  
            `;
            }            
            if (selectedTypeValue1 === '16 GPIO Rack Card 2' || selectedTypeValue2 === '16 GPIO Rack Card 2' || selectedTypeValue3 === '16 GPIO Rack Card 2' || selectedTypeValue4 === '16 GPIO Rack Card 2' || selectedTypeValue5 === '16 GPIO Rack Card 2' || selectedTypeValue6 === '16 GPIO Rack Card 2' || selectedTypeValue7 === '16 GPIO Rack Card 2' || selectedTypeValue8 === '16 GPIO Rack Card 2') {
                additionalConfig += `
  gpio_rack_card_1_device_1: "GPIO 17"
  gpio_rack_card_1_device_2: "GPIO 18"
  gpio_rack_card_1_device_3: "GPIO 19"
  gpio_rack_card_1_device_4: "GPIO 20"
  gpio_rack_card_1_device_5: "GPIO 21"
  gpio_rack_card_1_device_6: "GPIO 22"
  gpio_rack_card_1_device_7: "GPIO 23"
  gpio_rack_card_1_device_8: "GPIO 24"
  gpio_rack_card_1_device_9: "GPIO 25"
  gpio_rack_card_1_device_10: "GPIO 26"
  gpio_rack_card_1_device_11: "GPIO 27"
  gpio_rack_card_1_device_12: "GPIO 28"
  gpio_rack_card_1_device_13: "GPIO 29"
  gpio_rack_card_1_device_14: "GPIO 30"
  gpio_rack_card_1_device_15: "GPIO 31"
  gpio_rack_card_1_device_16: "GPIO 32"  
            `;            
            }
            if (selectedTypeValue1 === '16 GPIO Rack Card 3' || selectedTypeValue2 === '16 GPIO Rack Card 3' || selectedTypeValue3 === '16 GPIO Rack Card 3' || selectedTypeValue4 === '16 GPIO Rack Card 3' || selectedTypeValue5 === '16 GPIO Rack Card 3' || selectedTypeValue6 === '16 GPIO Rack Card 3' || selectedTypeValue7 === '16 GPIO Rack Card 3' || selectedTypeValue8 === '16 GPIO Rack Card 3') {
                additionalConfig += `
  gpio_rack_card_1_device_1: "GPIO 33"
  gpio_rack_card_1_device_2: "GPIO 34"
  gpio_rack_card_1_device_3: "GPIO 35"
  gpio_rack_card_1_device_4: "GPIO 36"
  gpio_rack_card_1_device_5: "GPIO 37"
  gpio_rack_card_1_device_6: "GPIO 38"
  gpio_rack_card_1_device_7: "GPIO 39"
  gpio_rack_card_1_device_8: "GPIO 40"
  gpio_rack_card_1_device_9: "GPIO 41"
  gpio_rack_card_1_device_10: "GPIO 42"
  gpio_rack_card_1_device_11: "GPIO 43"
  gpio_rack_card_1_device_12: "GPIO 44"
  gpio_rack_card_1_device_13: "GPIO 45"
  gpio_rack_card_1_device_14: "GPIO 46"
  gpio_rack_card_1_device_15: "GPIO 47"
  gpio_rack_card_1_device_16: "GPIO 48"  
            `;            
            }            
            if (selectedTypeValue1 === '16 GPIO Rack Card 4' || selectedTypeValue2 === '16 GPIO Rack Card 4' || selectedTypeValue3 === '16 GPIO Rack Card 4' || selectedTypeValue4 === '16 GPIO Rack Card 4' || selectedTypeValue5 === '16 GPIO Rack Card 4' || selectedTypeValue6 === '16 GPIO Rack Card 4' || selectedTypeValue7 === '16 GPIO Rack Card 4' || selectedTypeValue8 === '16 GPIO Rack Card 4') {
                additionalConfig += `
  gpio_rack_card_1_device_1: "GPIO 49"
  gpio_rack_card_1_device_2: "GPIO 50"
  gpio_rack_card_1_device_3: "GPIO 51"
  gpio_rack_card_1_device_4: "GPIO 52"
  gpio_rack_card_1_device_5: "GPIO 53"
  gpio_rack_card_1_device_6: "GPIO 54"
  gpio_rack_card_1_device_7: "GPIO 55"
  gpio_rack_card_1_device_8: "GPIO 56"
  gpio_rack_card_1_device_9: "GPIO 57"
  gpio_rack_card_1_device_10: "GPIO 58"
  gpio_rack_card_1_device_11: "GPIO 59"
  gpio_rack_card_1_device_12: "GPIO 60"
  gpio_rack_card_1_device_13: "GPIO 61"
  gpio_rack_card_1_device_14: "GPIO 62"
  gpio_rack_card_1_device_15: "GPIO 63"
  gpio_rack_card_1_device_16: "GPIO 64"  
            `;            
            }
            if (selectedTypeValue1 === '8 Port Relay Board 1' || selectedTypeValue2 === '8 Port Relay Board 1' || selectedTypeValue3 === '8 Port Relay Board 1' || selectedTypeValue4 === '8 Port Relay Board 1' || selectedTypeValue5 === '8 Port Relay Board 1' || selectedTypeValue6 === '8 Port Relay Board 1' || selectedTypeValue7 === '8 Port Relay Board 1' || selectedTypeValue8 === '8 Port Relay Board 1') {
                additionalConfig += `                
  node_8_relay_board_1_device_1: "Relay 1"
  node_8_relay_board_1_device_2: "Relay 2"
  node_8_relay_board_1_device_3: "Relay 3"
  node_8_relay_board_1_device_4: "Relay 4"
  node_8_relay_board_1_device_5: "Relay 5"
  node_8_relay_board_1_device_6: "Relay 6"
  node_8_relay_board_1_device_7: "Relay 7"
  node_8_relay_board_1_device_8: "Relay 8"  
            `;            
            } 
            if (selectedTypeValue1 === '8 Port Relay Board 2' || selectedTypeValue2 === '8 Port Relay Board 2' || selectedTypeValue3 === '8 Port Relay Board 2' || selectedTypeValue4 === '8 Port Relay Board 2' || selectedTypeValue5 === '8 Port Relay Board 2' || selectedTypeValue5 === '8 Port Relay Board 2' || selectedTypeValue7 === '8 Port Relay Board 2' || selectedTypeValue8 === '8 Port Relay Board 2') {
                additionalConfig += `                
  node_8_relay_board_1_device_1: "Relay 9"
  node_8_relay_board_1_device_2: "Relay 10"
  node_8_relay_board_1_device_3: "Relay 11"
  node_8_relay_board_1_device_4: "Relay 12"
  node_8_relay_board_1_device_5: "Relay 13"
  node_8_relay_board_1_device_6: "Relay 14"
  node_8_relay_board_1_device_7: "Relay 15"
  node_8_relay_board_1_device_8: "Relay 16"  
            `;            
            }   
            if (selectedTypeValue1 === '8 Port Relay Board 3' || selectedTypeValue2 === '8 Port Relay Board 3' || selectedTypeValue3 === '8 Port Relay Board 3' || selectedTypeValue4 === '8 Port Relay Board 3' || selectedTypeValue5 === '8 Port Relay Board 3' || selectedTypeValue5 === '8 Port Relay Board 3' || selectedTypeValue7 === '8 Port Relay Board 3' || selectedTypeValue8 === '8 Port Relay Board 3') {
                additionalConfig += `                
  node_8_relay_board_1_device_1: "Relay 17"
  node_8_relay_board_1_device_2: "Relay 18"
  node_8_relay_board_1_device_3: "Relay 19"
  node_8_relay_board_1_device_4: "Relay 20"
  node_8_relay_board_1_device_5: "Relay 21"
  node_8_relay_board_1_device_6: "Relay 22"
  node_8_relay_board_1_device_7: "Relay 23"
  node_8_relay_board_1_device_8: "Relay 24"  
            `;            
            }
            if (selectedTypeValue1 === '8 Port Relay Board 4' || selectedTypeValue2 === '8 Port Relay Board 4' || selectedTypeValue3 === '8 Port Relay Board 4' || selectedTypeValue4 === '8 Port Relay Board 4' || selectedTypeValue5 === '8 Port Relay Board 4' || selectedTypeValue5 === '8 Port Relay Board 4' || selectedTypeValue7 === '8 Port Relay Board 4' || selectedTypeValue8 === '8 Port Relay Board 4') {
                additionalConfig += `                
  node_8_relay_board_1_device_1: "Relay 25"
  node_8_relay_board_1_device_2: "Relay 26"
  node_8_relay_board_1_device_3: "Relay 27"
  node_8_relay_board_1_device_4: "Relay 28"
  node_8_relay_board_1_device_5: "Relay 29"
  node_8_relay_board_1_device_6: "Relay 30"
  node_8_relay_board_1_device_7: "Relay 31"
  node_8_relay_board_1_device_8: "Relay 32"  
            `;   
            }
          additionalConfig += `
mcp23017test `;                           
                
            if (selectedTypeValue1 === '16 GPIO Rack Card 1' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_16_gpio_rack_card_1'
    address: ${selectedOptionValue1} 
            `;
            }  
            if (selectedTypeValue2 === '16 GPIO Rack Card 1' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_16_gpio_rack_card_1'
    address: ${selectedOptionValue2} 
            `;
            }                
            if (selectedTypeValue3 === '16 GPIO Rack Card 1' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_16_gpio_rack_card_1'
    address: ${selectedOptionValue3} 
            `;
            }  
            if (selectedTypeValue4 === '16 GPIO Rack Card 1' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_16_gpio_rack_card_1'
    address: ${selectedOptionValue4} 
            `;
            }  
            if (selectedTypeValue5 === '16 GPIO Rack Card 1' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_16_gpio_rack_card_1'
    address: ${selectedOptionValue5} 
            `;
            }                
            if (selectedTypeValue6 === '16 GPIO Rack Card 1' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_16_gpio_rack_card_1'
    address: ${selectedOptionValue6} 
            `;
            }              
            if (selectedTypeValue7 === '16 GPIO Rack Card 1' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_16_gpio_rack_card_1'
    address: ${selectedOptionValue7} 
            `;
            }  
            if (selectedTypeValue8 === '16 GPIO Rack Card 1' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_16_gpio_rack_card_1'
    address: ${selectedOptionValue8} 
            `;
            }   
            if (selectedTypeValue1 === '16 GPIO Rack Card 2' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_16_gpio_rack_card_2'
    address: ${selectedOptionValue1} 
            `;
            }  
            if (selectedTypeValue2 === '16 GPIO Rack Card 2' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_16_gpio_rack_card_2'
    address: ${selectedOptionValue2} 
            `;
            }                            
            if (selectedTypeValue3 === '16 GPIO Rack Card 2' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_16_gpio_rack_card_2'
    address: ${selectedOptionValue3} 
            `;
            }  
            if (selectedTypeValue4 === '16 GPIO Rack Card 2' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_16_gpio_rack_card_2'
    address: ${selectedOptionValue4} 
            `;
            }  
            if (selectedTypeValue5 === '16 GPIO Rack Card 2' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_16_gpio_rack_card_2'
    address: ${selectedOptionValue5} 
            `;
            }                
            if (selectedTypeValue6 === '16 GPIO Rack Card 2' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_16_gpio_rack_card_2'
    address: ${selectedOptionValue6} 
            `;
            }              
            if (selectedTypeValue7 === '16 GPIO Rack Card 2' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_16_gpio_rack_card_2'
    address: ${selectedOptionValue7} 
            `;
            }  
            if (selectedTypeValue8 === '16 GPIO Rack Card 2' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_16_gpio_rack_card_2'
    address: ${selectedOptionValue8} 
            `;
            }       
            if (selectedTypeValue1 === '16 GPIO Rack Card 3' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_16_gpio_rack_card_3'
    address: ${selectedOptionValue1} 
            `;
            }  
            if (selectedTypeValue2 === '16 GPIO Rack Card 3' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_16_gpio_rack_card_3'
    address: ${selectedOptionValue2} 
            `;
            }                            
            if (selectedTypeValue3 === '16 GPIO Rack Card 3' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_16_gpio_rack_card_3'
    address: ${selectedOptionValue3} 
            `;
            }  
            if (selectedTypeValue4 === '16 GPIO Rack Card 3' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_16_gpio_rack_card_3'
    address: ${selectedOptionValue4} 
            `;
            }  
            if (selectedTypeValue5 === '16 GPIO Rack Card 3' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_16_gpio_rack_card_3'
    address: ${selectedOptionValue5} 
            `;
            }                
            if (selectedTypeValue6 === '16 GPIO Rack Card 3' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_16_gpio_rack_card_3'
    address: ${selectedOptionValue6} 
            `;
            }              
            if (selectedTypeValue7 === '16 GPIO Rack Card 3' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_16_gpio_rack_card_3'
    address: ${selectedOptionValue7} 
            `;
            }  
            if (selectedTypeValue8 === '16 GPIO Rack Card 3' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_16_gpio_rack_card_3'
    address: ${selectedOptionValue8} 
            `;
            }  
            if (selectedTypeValue1 === '16 GPIO Rack Card 4' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_16_gpio_rack_card_4'
    address: ${selectedOptionValue1} 
            `;
            }  
            if (selectedTypeValue2 === '16 GPIO Rack Card 4' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_16_gpio_rack_card_4'
    address: ${selectedOptionValue2} 
            `;
            }                            
            if (selectedTypeValue3 === '16 GPIO Rack Card 4' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_16_gpio_rack_card_4'
    address: ${selectedOptionValue3} 
            `;
            }  
            if (selectedTypeValue4 === '16 GPIO Rack Card 4' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_16_gpio_rack_card_4'
    address: ${selectedOptionValue4} 
            `;
            }  
            if (selectedTypeValue5 === '16 GPIO Rack Card 4' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_16_gpio_rack_card_4'
    address: ${selectedOptionValue5} 
            `;
            }                
            if (selectedTypeValue6 === '16 GPIO Rack Card 4' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_16_gpio_rack_card_4'
    address: ${selectedOptionValue6} 
            `;
            }              
            if (selectedTypeValue7 === '16 GPIO Rack Card 4' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_16_gpio_rack_card_4'
    address: ${selectedOptionValue7} 
            `;
            }  
            if (selectedTypeValue8 === '16 GPIO Rack Card 4' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_16_gpio_rack_card_4'
    address: ${selectedOptionValue8} 
            `;
            }        
            
            if (selectedTypeValue1 === 'Button Controller' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_8_button_keypad'
    address: ${selectedOptionValue1} 
            `;
            }  
            if (selectedTypeValue2 === 'Button Controller' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_8_button_keypad'
    address: ${selectedOptionValue2} 
            `;
            }                            
            if (selectedTypeValue3 === 'Button Controller' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_8_button_keypad'
    address: ${selectedOptionValue3} 
            `;
            }  
            if (selectedTypeValue4 === 'Button Controller' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_8_button_keypad'
    address: ${selectedOptionValue4} 
            `;
            }  
            if (selectedTypeValue5 === 'Button Controller' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_8_button_keypad'
    address: ${selectedOptionValue5} 
            `;
            }                
            if (selectedTypeValue6 === 'Button Controller' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_8_button_keypad'
    address: ${selectedOptionValue6} 
            `;
            }              
            if (selectedTypeValue7 === 'Button Controller' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_8_button_keypad'
    address: ${selectedOptionValue7} 
            `;
            }  
            if (selectedTypeValue8 === 'Button Controller' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_8_button_keypad'
    address: ${selectedOptionValue8} 
            `;
            }               
            if (selectedTypeValue1 === '8 Port Relay Board 1' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_8_relay_board_1'
    address: ${selectedOptionValue1} 
            `;
            }  
            if (selectedTypeValue2 === '8 Port Relay Board 1' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_8_relay_board_1'
    address: ${selectedOptionValue2} 
            `;
            }       
            if (selectedTypeValue3 === '8 Port Relay Board 1' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_8_relay_board_1'
    address: ${selectedOptionValue3} 
            `;
            }        
            if (selectedTypeValue4 === '8 Port Relay Board 1' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_8_relay_board_1'
    address: ${selectedOptionValue4} 
            `;
            }   
            if (selectedTypeValue5 === '8 Port Relay Board 1' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_8_relay_board_1'
    address: ${selectedOptionValue5} 
            `;
            }  
            if (selectedTypeValue6 === '8 Port Relay Board 1' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_8_relay_board_1'
    address: ${selectedOptionValue6} 
            `;
            }       
            if (selectedTypeValue7 === '8 Port Relay Board 1' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_8_relay_board_1'
    address: ${selectedOptionValue7} 
            `;
            }        
            if (selectedTypeValue8 === '8 Port Relay Board 1' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_8_relay_board_1'
    address: ${selectedOptionValue8} 
            `;
            }        
            if (selectedTypeValue1 === '8 Port Relay Board 2' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_8_relay_board_2'
    address: ${selectedOptionValue1} 
            `;
            }  
            if (selectedTypeValue2 === '8 Port Relay Board 2' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_8_relay_board_2'
    address: ${selectedOptionValue2} 
            `;
            }       
            if (selectedTypeValue3 === '8 Port Relay Board 2' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_8_relay_board_2'
    address: ${selectedOptionValue3} 
            `;
            }        
            if (selectedTypeValue4 === '8 Port Relay Board 2' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_8_relay_board_2'
    address: ${selectedOptionValue4} 
            `;
            }   
            if (selectedTypeValue5 === '8 Port Relay Board 2' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_8_relay_board_2'
    address: ${selectedOptionValue5} 
            `;
            }  
            if (selectedTypeValue6 === '8 Port Relay Board 2' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_8_relay_board_2'
    address: ${selectedOptionValue6} 
            `;
            }       
            if (selectedTypeValue7 === '8 Port Relay Board 2' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_8_relay_board_2'
    address: ${selectedOptionValue7} 
            `;
            }        
            if (selectedTypeValue8 === '8 Port Relay Board 2' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_8_relay_board_2'
    address: ${selectedOptionValue8} 
            `;
            }   
            if (selectedTypeValue1 === '8 Port Relay Board 3' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_8_relay_board_3'
    address: ${selectedOptionValue1} 
            `;
            }  
            if (selectedTypeValue2 === '8 Port Relay Board 3' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_8_relay_board_3'
    address: ${selectedOptionValue2} 
            `;
            }       
            if (selectedTypeValue3 === '8 Port Relay Board 3' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_8_relay_board_3'
    address: ${selectedOptionValue3} 
            `;
            }        
            if (selectedTypeValue4 === '8 Port Relay Board 3' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_8_relay_board_3'
    address: ${selectedOptionValue4} 
            `;
            }   
            if (selectedTypeValue5 === '8 Port Relay Board 3' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_8_relay_board_3'
    address: ${selectedOptionValue5} 
            `;
            }  
            if (selectedTypeValue6 === '8 Port Relay Board 3' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_8_relay_board_3'
    address: ${selectedOptionValue6} 
            `;
            }       
            if (selectedTypeValue7 === '8 Port Relay Board 3' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_8_relay_board_3'
    address: ${selectedOptionValue7} 
            `;
            }        
            if (selectedTypeValue8 === '8 Port Relay Board 3' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_8_relay_board_3'
    address: ${selectedOptionValue8} 
            `;
            }        
            if (selectedTypeValue1 === '8 Port Relay Board 4' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_8_relay_board_4'
    address: ${selectedOptionValue1} 
            `;
            }  
            if (selectedTypeValue2 === '8 Port Relay Board 4' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_8_relay_board_4'
    address: ${selectedOptionValue2} 
            `;
            }       
            if (selectedTypeValue3 === '8 Port Relay Board 4' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_8_relay_board_4'
    address: ${selectedOptionValue3} 
            `;
            }        
            if (selectedTypeValue4 === '8 Port Relay Board 4' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_8_relay_board_4'
    address: ${selectedOptionValue4} 
            `;
            }   
            if (selectedTypeValue5 === '8 Port Relay Board 4' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_8_relay_board_4'
    address: ${selectedOptionValue5} 
            `;
            }  
            if (selectedTypeValue6 === '8 Port Relay Board 4' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_8_relay_board_4'
    address: ${selectedOptionValue6} 
            `;
            }       
            if (selectedTypeValue7 === '8 Port Relay Board 4' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_8_relay_board_4'
    address: ${selectedOptionValue7} 
            `;
            }        
            if (selectedTypeValue8 === '8 Port Relay Board 4' ) {
                additionalConfig += `
  - id: 'mcp23017_hub_8_relay_board_4'
    address: ${selectedOptionValue8} 
            `;
            }                                                     
          additionalConfig += `
esphome:
  name: ${textEntry1}
  on_boot:
       - delay: 1s
       - text_sensor.template.publish:
          id: last_name_pressed
          state: ""    
       - text_sensor.template.publish:
          id: last_state_pressed
          state: ""  
esp32:
  board: esp-wrover-kit
  framework: 
    type: esp-idf
       
       
web_server:
  port: 80
  auth:
    username: ${textEntry3}
    password: ${textEntry4}
                                 
ota:  
  password: ${textEntry2} 
ethernet:
  id: eth
  type: LAN8720
  mdc_pin: GPIO23
  mdio_pin: GPIO18
  clk_mode: GPIO0_IN
  phy_addr: 1
  power_pin: GPIO16
api:
  encryption:
    key: "${textEntry6}"
  reboot_timeout: 0s      

i2c:
  sda: 14
  scl: 15
  scan: true 

display:
  - platform: ssd1306_i2c
    model: "SSD1306 128x64"
    address: 0x3C
    lambda: |-
            if (id(system_status).state) {
              it.print(40, -3, id(my_font_30b), id(my_green), "Online");
            }
            else {
              it.print(40, -5, id(my_font_30b), id(my_yellow), "Offline");
            }
            it.printf(it.get_width() / 2, 14, id(my_font_20b), id(my_blue), TextAlign::CENTER_HORIZONTAL," %s",id(last_name_pressed).state.c_str()); 
            it.printf(it.get_width() / 2, 24, id(my_font_20b), id(my_blue), TextAlign::CENTER_HORIZONTAL," %s",id(last_state_pressed).state.c_str());             
            it.print(0, 34, id(my_font_20b), id(my_white), "IP");                                              
            it.printf(it.get_width() / 2, 46, id(my_font_13b), id(my_green), TextAlign::CENTER_HORIZONTAL, " %s",id(uptime_human).state.c_str());   
   #         it.printf(it.get_width() / 2,34, id(my_font_20b), id(my_white), TextAlign::CENTER_HORIZONTAL, " %s",id(ipaddress).state.c_str());      
text_sensor:
  - platform: template
    id: last_state_pressed    
    name: $display_name State
    icon: "mdi:state-machine"
  - platform: template
    id: last_name_pressed        
    name: $display_name Device    
    icon: "mdi:state-machine" 
  - platform: template
    id: uptime_human 
    name: Update    
    icon: mdi:clock-start
  - platform: template
    name: "Device IP"
    id: ipaddress
    entity_category: diagnostic
    icon: "mdi:ip-network"
    lambda: return { id(eth).get_ip_address().str() };
    update_interval: 5s  

sensor:
  - platform: uptime
    id: uptime_sensor
    update_interval: 1s
    on_raw_value:
      then:
        - text_sensor.template.publish:
            id: uptime_human
            state: !lambda |-
              int seconds = round(id(uptime_sensor).raw_state);
              int days = seconds / (24 * 3600);
              seconds = seconds % (24 * 3600);
              int hours = seconds / 3600;
              seconds = seconds % 3600;
              int minutes = seconds /  60;
              seconds = seconds % 60;
              return (
                (days ? to_string(days) + "d " : "") +
                (hours ? to_string(hours) + "h " : "") +
                (minutes ? to_string(minutes) + "m " : "") +
                (to_string(seconds) + "s")
              ).c_str();

light:
  - platform: esp32_rmt_led_strip
    id: statusledlight
    name: "Status LED RGB"
    pin: 33
    num_leds: 1
    rmt_channel: 1
    rgb_order: GRB
    chipset: ws2812
    icon: "mdi:led-outline"
    max_refresh_rate: 500ms
    


switch:
  - platform: restart
    id: "restart_system"
  - platform: gpio
    pin: GPIO32
    name: Pico Buzzer
    inverted: no  
    id: buzzer
    icon: "mdi:surround-sound"
  - platform: gpio
    pin: GPIO04
    name: On Board Relay
    icon: "mdi:electric-switch"
    inverted: no  
    id: relay

binary_sensor:
  - platform: status
    id: system_status
    name: status
    on_press:
          then:
            - light.turn_on: 
                id: statusledlight
                green: 1.0
                red: 0.0
                blue: 0.0
                brightness: 30%      
    on_release:
          then:           
            - light.turn_on: 
                id: statusledlight
                red: 1.0
                green: 0.0
                blue: 0.0
                brightness: 30%     
color:
  - id: my_red
    red: 100%
    green: 0%
    blue: 0%
  - id: my_yellow
    red: 100%
    green: 100%
    blue: 0%
  - id: my_green
    red: 0%
    green: 100%
    blue: 0%
  - id: my_blue
    red: 0%
    green: 0%
    blue: 100%
  - id: my_gray
    red: 50%
    green: 50%
    blue: 50%   
  - id: my_white
    red: 100%
    green: 100%
    blue: 100%              

font:
  - file: "_fonts/refsan.ttf"
    id: my_font_30
    size: 30
  - file: "_fonts/refsan.ttf"
    id: my_font_20
    size: 20
  - file: "_fonts/refsan.ttf"
    id: my_font_13
    size: 13
  - file: "_fonts/refsan.ttf"
    id: my_font_15
    size: 15    
  - file: "_fonts/refsan.ttf"
    id: my_font_10
    size: 10   
  - file: "_fonts/refsan.ttf"
    id: my_font_30b
    size: 15
  - file: "_fonts/refsan.ttf"
    id: my_font_20b
    size: 10
  - file: "_fonts/refsan.ttf"
    id: my_font_13b
    size: 10  
  - file: "_fonts/refsan.ttf"
    id: my_font_15b
    size: 15    
  - file: "_fonts/refsan.ttf"
    id: my_font_10b
    size: 15 
          `;
          
//////////////////////////  BUTTON   //////////////////////
          additionalConfig += `
button: `;        
            if (selectedTypeValue1 === '16 GPIO Rack Card 1' || selectedTypeValue2 === '16 GPIO Rack Card 1' || selectedTypeValue3 === '16 GPIO Rack Card 1' || selectedTypeValue4 === '16 GPIO Rack Card 1') {
                additionalConfig += `   
  - platform: template
    name: Reset All GPIO to NO (1-16)
    icon: "mdi:alert"
    on_press:
      - lambda: |-
            id(device_1_set_1_16) = 1;
            id(device_2_set_1_16) = 1;
            id(device_3_set_1_16) = 1;
            id(device_4_set_1_16) = 1;
            id(device_5_set_1_16) = 1;
            id(device_6_set_1_16) = 1;
            id(device_7_set_1_16) = 1;
            id(device_8_set_1_16) = 1;
            id(device_9_set_1_16) = 1;
            id(device_10_set_1_16) = 1;
            id(device_11_set_1_16) = 1;
            id(device_12_set_1_16) = 1;
            id(device_13_set_1_16) = 1;
            id(device_14_set_1_16) = 1;
            id(device_15_set_1_16) = 1;
            id(device_16_set_1_16) = 1;

  - platform: template
    name: GPIO State Set (NO\NC 1-16)
    icon: "mdi:set-merge"
    on_press:
      - lambda: |-
          if (id(device_select).state == "NO" && id(select_gpio).state == "GPIO 1") {
            id(device_1_set_1_16) = 1;
          } 
      - lambda: |-
          if (id(device_select).state == "NC" && id(select_gpio).state == "GPIO 1") {
            id(device_1_set_1_16) = 2;
          }
      - lambda: |-
          if (id(device_select).state == "NO" && id(select_gpio).state == "GPIO 2") {
            id(device_2_set_1_16) = 1;
          } 
      - lambda: |-
          if (id(device_select).state == "NC" && id(select_gpio).state == "GPIO 2") {
            id(device_2_set_1_16) = 2;
          }          
      - lambda: |-
          if (id(device_select).state == "NO" && id(select_gpio).state == "GPIO 3") {
            id(device_3_set_1_16) = 1;
          } 
      - lambda: |-
          if (id(device_select).state == "NC" && id(select_gpio).state == "GPIO 3") {
            id(device_3_set_1_16) = 2;
          }
      - lambda: |-
          if (id(device_select).state == "NO" && id(select_gpio).state == "GPIO 4") {
            id(device_4_set_1_16) = 1;
          } 
      - lambda: |-
          if (id(device_select).state == "NC" && id(select_gpio).state == "GPIO 4") {
            id(device_4_set_1_16) = 2;
          }  
      - lambda: |-
          if (id(device_select).state == "NO" && id(select_gpio).state == "GPIO 5") {
            id(device_5_set_1_16) = 1;
          } 
      - lambda: |-
          if (id(device_select).state == "NC" && id(select_gpio).state == "GPIO 5") {
            id(device_5_set_1_16) = 2;
          }
      - lambda: |-
          if (id(device_select).state == "NO" && id(select_gpio).state == "GPIO 6") {
            id(device_6_set_1_16) = 1;
          } 
      - lambda: |-
          if (id(device_select).state == "NC" && id(select_gpio).state == "GPIO 6") {
            id(device_6_set_1_16) = 2;
          }          
      - lambda: |-
          if (id(device_select).state == "NO" && id(select_gpio).state == "GPIO 7") {
            id(device_7_set_1_16) = 1;
          } 
      - lambda: |-
          if (id(device_select).state == "NC" && id(select_gpio).state == "GPIO 7") {
            id(device_7_set_1_16) = 2;
          }
      - lambda: |-
          if (id(device_select).state == "NO" && id(select_gpio).state == "GPIO 8") {
            id(device_8_set_1_16) = 1;
          } 
      - lambda: |-
          if (id(device_select).state == "NC" && id(select_gpio).state == "GPIO 8") {
            id(device_8_set_1_16) = 2;
          }  
      - lambda: |-
          if (id(device_select).state == "NO" && id(select_gpio).state == "GPIO 9") {
            id(device_9_set_1_16) = 1;
          } 
      - lambda: |-
          if (id(device_select).state == "NC" && id(select_gpio).state == "GPIO 9") {
            id(device_9_set_1_16) = 2;
          }
      - lambda: |-
          if (id(device_select).state == "NO" && id(select_gpio).state == "GPIO 10") {
            id(device_10_set_1_16) = 1;
          } 
      - lambda: |-
          if (id(device_select).state == "NC" && id(select_gpio).state == "GPIO 10") {
            id(device_10_set_1_16) = 2;
          }          
      - lambda: |-
          if (id(device_select).state == "NO" && id(select_gpio).state == "GPIO 11") {
            id(device_11_set_1_16) = 1;
          } 
      - lambda: |-
          if (id(device_select).state == "NC" && id(select_gpio).state == "GPIO 11") {
            id(device_11_set_1_16) = 2;
          }
      - lambda: |-
          if (id(device_select).state == "NO" && id(select_gpio).state == "GPIO 12") {
            id(device_12_set_1_16) = 1;
          } 
      - lambda: |-
          if (id(device_select).state == "NC" && id(select_gpio).state == "GPIO 12") {
            id(device_12_set_1_16) = 2;
          }  
      - lambda: |-
          if (id(device_select).state == "NO" && id(select_gpio).state == "GPIO 13") {
            id(device_13_set_1_16) = 1;
          } 
      - lambda: |-
          if (id(device_select).state == "NC" && id(select_gpio).state == "GPIO 13") {
            id(device_13_set_1_16) = 2;
          }
      - lambda: |-
          if (id(device_select).state == "NO" && id(select_gpio).state == "GPIO 14") {
            id(device_14_set_1_16) = 1;
          } 
      - lambda: |-
          if (id(device_select).state == "NC" && id(select_gpio).state == "GPIO 14") {
            id(device_14_set_1_16) = 2;
          }          
      - lambda: |-
          if (id(device_select).state == "NO" && id(select_gpio).state == "GPIO 15") {
            id(device_15_set_1_16) = 1;
          } 
      - lambda: |-
          if (id(device_select).state == "NC" && id(select_gpio).state == "GPIO 15") {
            id(device_15_set_1_16) = 2;
          }
      - lambda: |-
          if (id(device_select).state == "NO" && id(select_gpio).state == "GPIO 16") {
            id(device_16_set_1_16) = 1;
          } 
      - lambda: |-
          if (id(device_select).state == "NC" && id(select_gpio).state == "GPIO 16") {
            id(device_16_set_1_16) = 2;
          }  
      - select.set:
          id: select_gpio_1
          option: "None" 
          `;  
          }    
          if (selectedTypeValue1 === '16 GPIO Rack Card 2' || selectedTypeValue2 === '16 GPIO Rack Card 2' || selectedTypeValue3 === '16 GPIO Rack Card 2' || selectedTypeValue4 === '16 GPIO Rack Card 2') {
          additionalConfig += `   
  - platform: template
    name: Reset All GPIO to NO (17-32)
    icon: "mdi:alert"
    on_press:
      - lambda: |-
            id(device_1_set_17_32) = 1;
            id(device_2_set_17_32) = 1;
            id(device_3_set_17_32) = 1;
            id(device_4_set_17_32) = 1;
            id(device_5_set_17_32) = 1;
            id(device_6_set_17_32) = 1;
            id(device_7_set_17_32) = 1;
            id(device_8_set_17_32) = 1;
            id(device_9_set_17_32) = 1;
            id(device_10_set_17_32) = 1;
            id(device_11_set_17_32) = 1;
            id(device_12_set_17_32) = 1;
            id(device_13_set_17_32) = 1;
            id(device_14_set_17_32) = 1;
            id(device_15_set_17_32) = 1;
            id(device_16_set_17_32) = 1;

  - platform: template
    name: GPIO State Set (NO\NC 17-32)
    icon: "mdi:set-merge"
    on_press:
      - lambda: |-
          if (id(device_select).state == "NO" && id(select_gpio).state == "GPIO 17") {
            id(device_1_set_17_32) = 1;
          } 
      - lambda: |-
          if (id(device_select).state == "NC" && id(select_gpio).state == "GPIO 17") {
            id(device_1_set_17_32) = 2;
          }
      - lambda: |-
          if (id(device_select).state == "NO" && id(select_gpio).state == "GPIO 18") {
            id(device_2_set_17_32) = 1;
          } 
      - lambda: |-
          if (id(device_select).state == "NC" && id(select_gpio).state == "GPIO 18") {
            id(device_2_set_17_32) = 2;
          }          
      - lambda: |-
          if (id(device_select).state == "NO" && id(select_gpio).state == "GPIO 19") {
            id(device_3_set_17_32) = 1;
          } 
      - lambda: |-
          if (id(device_select).state == "NC" && id(select_gpio).state == "GPIO 19") {
            id(device_3_set_17_32) = 2;
          }
      - lambda: |-
          if (id(device_select).state == "NO" && id(select_gpio).state == "GPIO 20") {
            id(device_4_set_17_32) = 1;
          } 
      - lambda: |-
          if (id(device_select).state == "NC" && id(select_gpio).state == "GPIO 20") {
            id(device_4_set_17_32) = 2;
          }  
      - lambda: |-
          if (id(device_select).state == "NO" && id(select_gpio).state == "GPIO 21") {
            id(device_5_set_17_32) = 1;
          } 
      - lambda: |-
          if (id(device_select).state == "NC" && id(select_gpio).state == "GPIO 21") {
            id(device_5_set_17_32) = 2;
          }
      - lambda: |-
          if (id(device_select).state == "NO" && id(select_gpio).state == "GPIO 22") {
            id(device_6_set_17_32) = 1;
          } 
      - lambda: |-
          if (id(device_select).state == "NC" && id(select_gpio).state == "GPIO 22") {
            id(device_6_set_17_32) = 2;
          }          
      - lambda: |-
          if (id(device_select).state == "NO" && id(select_gpio).state == "GPIO 23") {
            id(device_7_set_17_32) = 1;
          } 
      - lambda: |-
          if (id(device_select).state == "NC" && id(select_gpio).state == "GPIO 23") {
            id(device_7_set_17_32) = 2;
          }
      - lambda: |-
          if (id(device_select).state == "NO" && id(select_gpio).state == "GPIO 24") {
            id(device_8_set_17_32) = 1;
          } 
      - lambda: |-
          if (id(device_select).state == "NC" && id(select_gpio).state == "GPIO 24") {
            id(device_8_set_17_32) = 2;
          }  
      - lambda: |-
          if (id(device_select).state == "NO" && id(select_gpio).state == "GPIO 25") {
            id(device_9_set_17_32) = 1;
          } 
      - lambda: |-
          if (id(device_select).state == "NC" && id(select_gpio).state == "GPIO 25") {
            id(device_9_set_17_32) = 2;
          }
      - lambda: |-
          if (id(device_select).state == "NO" && id(select_gpio).state == "GPIO 26") {
            id(device_10_set_17_32) = 1;
          } 
      - lambda: |-
          if (id(device_select).state == "NC" && id(select_gpio).state == "GPIO 26") {
            id(device_10_set_17_32) = 2;
          }          
      - lambda: |-
          if (id(device_select).state == "NO" && id(select_gpio).state == "GPIO 27") {
            id(device_11_set_17_32) = 1;
          } 
      - lambda: |-
          if (id(device_select).state == "NC" && id(select_gpio).state == "GPIO 27") {
            id(device_11_set_17_32) = 2;
          }
      - lambda: |-
          if (id(device_select).state == "NO" && id(select_gpio).state == "GPIO 28") {
            id(device_12_set_17_32) = 1;
          } 
      - lambda: |-
          if (id(device_select).state == "NC" && id(select_gpio).state == "GPIO 28") {
            id(device_12_set_17_32) = 2;
          }  
      - lambda: |-
          if (id(device_select).state == "NO" && id(select_gpio).state == "GPIO 29") {
            id(device_13_set_17_32) = 1;
          } 
      - lambda: |-
          if (id(device_select).state == "NC" && id(select_gpio).state == "GPIO 29") {
            id(device_13_set_17_32) = 2;
          }
      - lambda: |-
          if (id(device_select).state == "NO" && id(select_gpio).state == "GPIO 30") {
            id(device_14_set_17_32) = 1;
          } 
      - lambda: |-
          if (id(device_select).state == "NC" && id(select_gpio).state == "GPIO 30") {
            id(device_14_set_17_32) = 2;
          }          
      - lambda: |-
          if (id(device_select).state == "NO" && id(select_gpio).state == "GPIO 31") {
            id(device_15_set_17_32) = 1;
          } 
      - lambda: |-
          if (id(device_select).state == "NC" && id(select_gpio).state == "GPIO 31") {
            id(device_15_set_17_32) = 2;
          }
      - lambda: |-
          if (id(device_select).state == "NO" && id(select_gpio).state == "GPIO 32") {
            id(device_16_set_17_32) = 1;
          } 
      - lambda: |-
          if (id(device_select).state == "NC" && id(select_gpio).state == "GPIO 32") {
            id(device_16_set_17_32) = 2;
          }  
      - select.set:
          id: select_gpio_2
          option: "None" 

          `;    
        }                
        if (selectedTypeValue1 === '16 GPIO Rack Card 3' || selectedTypeValue2 === '16 GPIO Rack Card 3' || selectedTypeValue3 === '16 GPIO Rack Card 3' || selectedTypeValue4 === '16 GPIO Rack Card 3') {
                additionalConfig += `   
  - platform: template
    name: Reset All GPIO to NO (33-48)
    icon: "mdi:alert"
    on_press:
      - lambda: |-
            id(device_1_set_33_48) = 1;
            id(device_2_set_33_48) = 1;
            id(device_3_set_33_48) = 1;
            id(device_4_set_33_48) = 1;
            id(device_5_set_33_48) = 1;
            id(device_6_set_33_48) = 1;
            id(device_7_set_33_48) = 1;
            id(device_8_set_33_48) = 1;
            id(device_9_set_33_48) = 1;
            id(device_10_set_33_48) = 1;
            id(device_11_set_33_48) = 1;
            id(device_12_set_33_48) = 1;
            id(device_13_set_33_48) = 1;
            id(device_14_set_33_48) = 1;
            id(device_15_set_33_48) = 1;
            id(device_16_set_33_48) = 1;

  - platform: template
    name: GPIO State Set (NO\NC 33-48)
    icon: "mdi:set-merge"
    on_press:
      - lambda: |-
          if (id(device_select).state == "NO" && id(select_gpio).state == "GPIO 33") {
            id(device_1_set_33_49) = 1;
          } 
      - lambda: |-
          if (id(device_select).state == "NC" && id(select_gpio).state == "GPIO 33") {
            id(device_1_set_33_49) = 2;
          }
      - lambda: |-
          if (id(device_select).state == "NO" && id(select_gpio).state == "GPIO 34") {
            id(device_1_set_33_49) = 1;
          } 
      - lambda: |-
          if (id(device_select).state == "NC" && id(select_gpio).state == "GPIO 34") {
            id(device_1_set_33_49) = 2;
          }          
      - lambda: |-
          if (id(device_select).state == "NO" && id(select_gpio).state == "GPIO 35") {
            id(device_1_set_33_49) = 1;
          } 
      - lambda: |-
          if (id(device_select).state == "NC" && id(select_gpio).state == "GPIO 35") {
            id(device_1_set_33_49) = 2;
          }
      - lambda: |-
          if (id(device_select).state == "NO" && id(select_gpio).state == "GPIO 36") {
            id(device_1_set_33_49) = 1;
          } 
      - lambda: |-
          if (id(device_select).state == "NC" && id(select_gpio).state == "GPIO 36") {
            id(device_1_set_33_49) = 2;
          }  
      - lambda: |-
          if (id(device_select).state == "NO" && id(select_gpio).state == "GPIO 37") {
            id(device_1_set_33_49) = 1;
          } 
      - lambda: |-
          if (id(device_select).state == "NC" && id(select_gpio).state == "GPIO 37") {
            id(device_1_set_33_49) = 2;
          }
      - lambda: |-
          if (id(device_select).state == "NO" && id(select_gpio).state == "GPIO 38") {
            id(device_1_set_33_49) = 1;
          } 
      - lambda: |-
          if (id(device_select).state == "NC" && id(select_gpio).state == "GPIO 38") {
            id(device_1_set_33_49) = 2;
          }          
      - lambda: |-
          if (id(device_select).state == "NO" && id(select_gpio).state == "GPIO 39") {
            id(device_1_set_33_49) = 1;
          } 
      - lambda: |-
          if (id(device_select).state == "NC" && id(select_gpio).state == "GPIO 39") {
            id(device_1_set_33_49) = 2;
          }
      - lambda: |-
          if (id(device_select).state == "NO" && id(select_gpio).state == "GPIO 40") {
            id(device_1_set_33_49) = 1;
          } 
      - lambda: |-
          if (id(device_select).state == "NC" && id(select_gpio).state == "GPIO 40") {
            id(device_1_set_33_49) = 2;
          }  
      - lambda: |-
          if (id(device_select).state == "NO" && id(select_gpio).state == "GPIO 41") {
            id(device_1_set_33_49) = 1;
          } 
      - lambda: |-
          if (id(device_select).state == "NC" && id(select_gpio).state == "GPIO 41") {
            id(device_1_set_33_49) = 2;
          }
      - lambda: |-
          if (id(device_select).state == "NO" && id(select_gpio).state == "GPIO 42") {
            id(device_1_set_33_49) = 1;
          } 
      - lambda: |-
          if (id(device_select).state == "NC" && id(select_gpio).state == "GPIO 42") {
            id(device_1_set_33_49) = 2;
          }          
      - lambda: |-
          if (id(device_select).state == "NO" && id(select_gpio).state == "GPIO 43") {
            id(device_1_set_33_49) = 1;
          } 
      - lambda: |-
          if (id(device_select).state == "NC" && id(select_gpio).state == "GPIO 43") {
            id(device_1_set_33_49) = 2;
          }
      - lambda: |-
          if (id(device_select).state == "NO" && id(select_gpio).state == "GPIO 44") {
            id(device_1_set_33_49) = 1;
          } 
      - lambda: |-
          if (id(device_select).state == "NC" && id(select_gpio).state == "GPIO 44") {
            id(device_1_set_33_49) = 2;
          }  
      - lambda: |-
          if (id(device_select).state == "NO" && id(select_gpio).state == "GPIO 45") {
            id(device_1_set_33_49) = 1;
          } 
      - lambda: |-
          if (id(device_select).state == "NC" && id(select_gpio).state == "GPIO 45") {
            id(device_1_set_33_49) = 2;
          }
      - lambda: |-
          if (id(device_select).state == "NO" && id(select_gpio).state == "GPIO 46") {
            id(device_1_set_33_49) = 1;
          } 
      - lambda: |-
          if (id(device_select).state == "NC" && id(select_gpio).state == "GPIO 46") {
            id(device_1_set_33_49) = 2;
          }          
      - lambda: |-
          if (id(device_select).state == "NO" && id(select_gpio).state == "GPIO 47") {
            id(device_1_set_33_49) = 1;
          } 
      - lambda: |-
          if (id(device_select).state == "NC" && id(select_gpio).state == "GPIO 47") {
            id(device_1_set_33_49) = 2;
          }
      - lambda: |-
          if (id(device_select).state == "NO" && id(select_gpio).state == "GPIO 48") {
            id(device_1_set_33_49) = 1;
          } 
      - lambda: |-
          if (id(device_select).state == "NC" && id(select_gpio).state == "GPIO 48") {
            id(device_1_set_33_49) = 2;
          }  
      - select.set:
          id: select_gpio_3
          option: "None" 
          `;  
          }    
          if (selectedTypeValue1 === '16 GPIO Rack Card 4' || selectedTypeValue2 === '16 GPIO Rack Card 4' || selectedTypeValue3 === '16 GPIO Rack Card 4' || selectedTypeValue4 === '16 GPIO Rack Card 4') {
                additionalConfig += `   
  - platform: template
    name: Reset All GPIO to NO (49-64)
    icon: "mdi:alert"
    on_press:
      - lambda: |-
            id(device_1_set_49_64) = 1;
            id(device_2_set_49_64) = 1;
            id(device_3_set_49_64) = 1;
            id(device_4_set_49_64) = 1;
            id(device_5_set_49_64) = 1;
            id(device_6_set_49_64) = 1;
            id(device_7_set_49_64) = 1;
            id(device_8_set_49_64) = 1;
            id(device_9_set_49_64) = 1;
            id(device_10_set_49_64) = 1;
            id(device_11_set_49_64) = 1;
            id(device_12_set_49_64) = 1;
            id(device_13_set_49_64) = 1;
            id(device_14_set_49_64) = 1;
            id(device_15_set_49_64) = 1;
            id(device_16_set_49_64) = 1;

  - platform: template
    name: GPIO State Set (NO\NC 49-64)
    icon: "mdi:set-merge"
    on_press:
      - lambda: |-
          if (id(device_select).state == "NO" && id(select_gpio).state == "GPIO 49") {
            id(device_1_set_1_16) = 1;
          } 
      - lambda: |-
          if (id(device_select).state == "NC" && id(select_gpio).state == "GPIO 49") {
            id(device_1_set_1_16) = 2;
          }
      - lambda: |-
          if (id(device_select).state == "NO" && id(select_gpio).state == "GPIO 50") {
            id(device_2_set_1_16) = 1;
          } 
      - lambda: |-
          if (id(device_select).state == "NC" && id(select_gpio).state == "GPIO 50") {
            id(device_2_set_1_16) = 2;
          }          
      - lambda: |-
          if (id(device_select).state == "NO" && id(select_gpio).state == "GPIO 51") {
            id(device_3_set_1_16) = 1;
          } 
      - lambda: |-
          if (id(device_select).state == "NC" && id(select_gpio).state == "GPIO 51") {
            id(device_3_set_1_16) = 2;
          }
      - lambda: |-
          if (id(device_select).state == "NO" && id(select_gpio).state == "GPIO 52") {
            id(device_4_set_1_16) = 1;
          } 
      - lambda: |-
          if (id(device_select).state == "NC" && id(select_gpio).state == "GPIO 52") {
            id(device_4_set_1_16) = 2;
          }  
      - lambda: |-
          if (id(device_select).state == "NO" && id(select_gpio).state == "GPIO 53") {
            id(device_5_set_1_16) = 1;
          } 
      - lambda: |-
          if (id(device_select).state == "NC" && id(select_gpio).state == "GPIO 53") {
            id(device_5_set_1_16) = 2;
          }
      - lambda: |-
          if (id(device_select).state == "NO" && id(select_gpio).state == "GPIO 54") {
            id(device_6_set_1_16) = 1;
          } 
      - lambda: |-
          if (id(device_select).state == "NC" && id(select_gpio).state == "GPIO 54") {
            id(device_6_set_1_16) = 2;
          }          
      - lambda: |-
          if (id(device_select).state == "NO" && id(select_gpio).state == "GPIO 55") {
            id(device_7_set_1_16) = 1;
          } 
      - lambda: |-
          if (id(device_select).state == "NC" && id(select_gpio).state == "GPIO 55") {
            id(device_7_set_1_16) = 2;
          }
      - lambda: |-
          if (id(device_select).state == "NO" && id(select_gpio).state == "GPIO 56") {
            id(device_8_set_1_16) = 1;
          } 
      - lambda: |-
          if (id(device_select).state == "NC" && id(select_gpio).state == "GPIO 56") {
            id(device_8_set_1_16) = 2;
          }  
      - lambda: |-
          if (id(device_select).state == "NO" && id(select_gpio).state == "GPIO 57") {
            id(device_9_set_1_16) = 1;
          } 
      - lambda: |-
          if (id(device_select).state == "NC" && id(select_gpio).state == "GPIO 57") {
            id(device_9_set_1_16) = 2;
          }
      - lambda: |-
          if (id(device_select).state == "NO" && id(select_gpio).state == "GPIO 58") {
            id(device_10_set_1_16) = 1;
          } 
      - lambda: |-
          if (id(device_select).state == "NC" && id(select_gpio).state == "GPIO 58") {
            id(device_10_set_1_16) = 2;
          }          
      - lambda: |-
          if (id(device_select).state == "NO" && id(select_gpio).state == "GPIO 59") {
            id(device_11_set_1_16) = 1;
          } 
      - lambda: |-
          if (id(device_select).state == "NC" && id(select_gpio).state == "GPIO 59") {
            id(device_11_set_1_16) = 2;
          }
      - lambda: |-
          if (id(device_select).state == "NO" && id(select_gpio).state == "GPIO 60") {
            id(device_12_set_1_16) = 1;
          } 
      - lambda: |-
          if (id(device_select).state == "NC" && id(select_gpio).state == "GPIO 60") {
            id(device_12_set_1_16) = 2;
          }  
      - lambda: |-
          if (id(device_select).state == "NO" && id(select_gpio).state == "GPIO 61") {
            id(device_13_set_1_16) = 1;
          } 
      - lambda: |-
          if (id(device_select).state == "NC" && id(select_gpio).state == "GPIO 61") {
            id(device_13_set_1_16) = 2;
          }
      - lambda: |-
          if (id(device_select).state == "NO" && id(select_gpio).state == "GPIO 62") {
            id(device_14_set_1_16) = 1;
          } 
      - lambda: |-
          if (id(device_select).state == "NC" && id(select_gpio).state == "GPIO 62") {
            id(device_14_set_1_16) = 2;
          }          
      - lambda: |-
          if (id(device_select).state == "NO" && id(select_gpio).state == "GPIO 63") {
            id(device_15_set_1_16) = 1;
          } 
      - lambda: |-
          if (id(device_select).state == "NC" && id(select_gpio).state == "GPIO 63") {
            id(device_15_set_1_16) = 2;
          }
      - lambda: |-
          if (id(device_select).state == "NO" && id(select_gpio).state == "GPIO 64") {
            id(device_16_set_1_16) = 1;
          } 
      - lambda: |-
          if (id(device_select).state == "NC" && id(select_gpio).state == "GPIO 64") {
            id(device_16_set_1_16) = 2;
          }  
      - select.set:
          id: select_gpio_4
          option: "None" 
          `;  
          }              
////////////////////////////////////////////////////////////////////////////////////////////
          
            // Combine the two configurations
            const combinedConfig = `${yamlConfig}\n${additionalConfig}`;

            // Create a Blob and download link
            const blob = new Blob([combinedConfig], { type: 'text/plain' });
            const downloadLink = document.createElement('a');

            // Set attributes for the download link
            downloadLink.href = URL.createObjectURL(blob);
            downloadLink.download = 'rack_system_config.yaml';

            // Append the link to the body and simulate a click to trigger the download
            document.body.appendChild(downloadLink);
            downloadLink.click();

            // Remove the link from the body
            document.body.removeChild(downloadLink);
        });

        // Initial call to set the initial visibility based on the default values
        updateSubbVisibility();
    </script>
</body>

</html>